id: '16969429685100.731070749162698'
definitionId: text
parentSlotId: '16968520326600.6317433755868269'
styles:
  xl:
    gridItem:
      x: 18
      y: 0
      w: 6
      h: 6
    color:
      value: warning
      dataValue: >-
        {{ // we are going to check the dates of the last review and change the
        colour of the text if its too long ago

        let review_Date = new Date()

        review_date = ui.tbl_Risks.selectedRow.data.last_review_date

        let todays_date = new Date()


        let days_Since_Review = todays_date.getTime() - review_Date.getTime()


        if (days_Since_Review > 10) {
          return '#e28743'
          state.flag = 'Red'
        }

        else if (days_Since_Review > 5) {
          return '#e28743'
          state.flag = 'Orange'
        }

        else if (days_Since_Review < 5) {
          return '#76b5c5'
          state.flag = 'Green'
        }


        }}
      withData: true
    fontSize:
      customValue: 20
      customUnit: px
      themeDefaultOverridePropertyKey: baseTextFontSize
  xs:
    gridItem:
      x: 0
      y: 668
      w: 24
      h: 6
properties:
  name: text2
  __UIBAKERY__RESPONSIVE__SHOW__CONDITION__CODE__:
    - xl
    - xs
  value: |-
    {{
    const currentDate = new Date(ui.tbl_Risks.selectedRow.data.last_review_date)

    const options = {year: 'numeric', month: 'short', day: 'numeric' };

    let returnDate = (currentDate.toLocaleDateString('en-UK', options));


    return 'Last reviewed: ' +  returnDate


    }}
  textStyle:
    transform: none
    styles:
      - bold
  alignment: right
actions: {}
index: 3
slots: []
